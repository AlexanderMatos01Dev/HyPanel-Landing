---
import '../styles/global.css';

interface Props {
	title?: string;
	description?: string;
	image?: string;
	canonical?: string;
	article?: boolean;
	publishedTime?: string;
	modifiedTime?: string;
}

// Site Configuration
const SITE_URL = 'https://hypanel.net';
const SITE_NAME = 'HyPanel';
const BRAND_COLOR = '#EDA333';
const DARK_COLOR = '#0B0F19';
const FONT_URL = 'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500&display=swap';

// Default SEO values
const defaultTitle = "HyPanel - The First Complete Platform for Hytale";
const defaultDescription = "The first complete platform designed specifically for Hytale. Server infrastructure, content management via Hytahub, visual logic editor (The Forge), community tools and monetization — all in one integrated ecosystem.";
const shortDescription = "Build, manage and scale Hytale servers with smart infrastructure, no-code tools, and integrated content marketplace.";

const { 
	title = defaultTitle,
	description = defaultDescription,
	image = "/og-image.png",
	canonical = SITE_URL,
	article = false,
	publishedTime = "2024-11-01T00:00:00Z",
	modifiedTime = new Date().toISOString()
} = Astro.props;

const absoluteImage = `${SITE_URL}${image}`;

// Extended keywords for better SEO
const keywordsList = [
	// Primary
	"HyPanel", "Hytale", "Hytale server", "Hytale hosting", "Hytale panel",
	// Features
	"Hytahub", "The Forge", "visual logic editor", "no-code game development",
	// Technical
	"game server hosting", "server management", "auto-scaling servers", "on-demand servers",
	// Community
	"Hytale community", "Hytale mods", "Hytale marketplace", "mod marketplace",
	// Business
	"server monetization", "game server platform", "Hytale tools",
	// Related
	"Hypixel Studios", "voxel game", "sandbox game hosting", "multiplayer server"
];
const keywords = keywordsList.join(", ");

// Social links for structured data
const socialLinks = [
	"https://github.com/HyPanel",
	"https://x.com/HyPanel",
	"https://twitter.com/HyPanel",
	"https://discord.gg/QBVCzUq4TT",
	"https://www.reddit.com/r/HyPanel/",
	"https://patreon.com/HyPanel",
	"https://buymeacoffee.com/hypanel_team"
];

// SoftwareApplication Schema (Primary)
const structuredData = {
	"@context": "https://schema.org",
	"@type": "SoftwareApplication",
	"name": "HyPanel",
	"alternateName": ["HyPanel Platform", "HyPanel for Hytale"],
	"applicationCategory": "GameApplication",
	"applicationSubCategory": "Game Server Management",
	"operatingSystem": "Web, Windows, macOS, Linux",
	"description": description,
	"abstract": shortDescription,
	"url": SITE_URL,
	"image": {
		"@type": "ImageObject",
		"url": absoluteImage,
		"width": 1200,
		"height": 630
	},
	"screenshot": absoluteImage,
	"author": {
		"@type": "Organization",
		"name": SITE_NAME,
		"url": SITE_URL,
		"sameAs": socialLinks
	},
	"publisher": {
		"@type": "Organization",
		"name": SITE_NAME,
		"url": SITE_URL,
		"logo": {
			"@type": "ImageObject",
			"url": `${SITE_URL}/android-chrome-512x512.png`
		}
	},
	"offers": {
		"@type": "Offer",
		"price": "0",
		"priceCurrency": "USD",
		"description": "Free tier available with premium options",
		"availability": "https://schema.org/PreOrder"
	},
	"featureList": [
		"One-click Hytale server deployment",
		"Smart server hibernation (servers sleep when empty)",
		"Hytahub content marketplace integration",
		"The Forge visual logic editor",
		"No-code game mechanics creation",
		"Community management tools",
		"Role-based permissions system",
		"Integrated moderation tools",
		"Monetization and store features",
		"Discord integration",
		"Real-time analytics and insights",
		"Automatic backups and snapshots",
		"Anti-DDoS protection"
	],
	"releaseNotes": "Building in public - Currently in pre-alpha development",
	"softwareVersion": "Pre-Alpha",
	"datePublished": publishedTime,
	"dateModified": modifiedTime,
	"inLanguage": "en",
	"isAccessibleForFree": true,
	"license": "https://creativecommons.org/licenses/by-nc/4.0/"
};

// Organization Schema
const organizationData = {
	"@context": "https://schema.org",
	"@type": "Organization",
	"name": SITE_NAME,
	"legalName": "HyPanel Project",
	"url": SITE_URL,
	"logo": {
		"@type": "ImageObject",
		"url": `${SITE_URL}/android-chrome-512x512.png`,
		"width": 512,
		"height": 512
	},
	"image": absoluteImage,
	"description": "Building the first complete platform for Hytale servers and communities. Open-source, community-driven, and designed specifically for the Hytale ecosystem.",
	"foundingDate": "2024",
	"founders": [
		{
			"@type": "Person",
			"name": "Alexander",
			"jobTitle": "Founder & Lead Developer"
		},
		{
			"@type": "Person", 
			"name": "Francisco",
			"jobTitle": "Co-Founder & Developer"
		}
	],
	"sameAs": socialLinks,
	"contactPoint": [
		{
			"@type": "ContactPoint",
			"contactType": "customer support",
			"url": "https://discord.gg/QBVCzUq4TT",
			"availableLanguage": ["English", "Spanish"]
		}
	],
	"slogan": "Build Your Hytale Worlds Instantly",
	"knowsAbout": ["Hytale", "Game Servers", "Server Hosting", "Game Development", "No-Code Tools", "Community Management"],
	"memberOf": {
		"@type": "Organization",
		"name": "Hytale Community"
	}
};

const faqData = {
	"@context": "https://schema.org",
	"@type": "FAQPage",
	"mainEntity": [
		{
			"@type": "Question",
			"name": "What is HyPanel?",
			"acceptedAnswer": {
				"@type": "Answer",
				"text": "HyPanel is the first complete platform designed specifically for Hytale. It combines server infrastructure, content management (via Hytahub), a visual logic editor (The Forge), community tools and monetization — all in one integrated ecosystem."
			}
		},
		{
			"@type": "Question",
			"name": "When will HyPanel be available?",
			"acceptedAnswer": {
				"@type": "Answer",
				"text": "Hytale Early Access launches January 13, 2025. From that date, we can start building with the real game. We don't have a fixed launch date for HyPanel yet, but we're building the community, infrastructure and foundations now so we're ready."
			}
		},
		{
			"@type": "Question",
			"name": "Is HyPanel free?",
			"acceptedAnswer": {
				"@type": "Answer",
				"text": "There will be free plans thanks to smart resource management (servers sleep when empty) and marketplace integration. Premium plans offer more resources for larger projects and professional teams."
			}
		},
		{
			"@type": "Question",
			"name": "What is Hytahub?",
			"acceptedAnswer": {
				"@type": "Answer",
				"text": "Hytahub is an independent partner project building the largest content marketplace for Hytale. Mods, assets, maps and configurations from the community, integrated directly with HyPanel for seamless installation."
			}
		},
		{
			"@type": "Question",
			"name": "What is The Forge?",
			"acceptedAnswer": {
				"@type": "Answer",
				"text": "The Forge is HyPanel's visual logic editor. It lets you create game logic, events, quests, rewards and complex interactions using a drag-and-drop node-based interface without writing code."
			}
		}
	]
};
---
<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
	<head>
		<!-- Basic Meta -->
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		
		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />
		<meta name="author" content={SITE_NAME} />
		<meta name="creator" content={SITE_NAME} />
		<meta name="publisher" content={SITE_NAME} />
		<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
		<meta name="googlebot" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
		<meta name="bingbot" content="index, follow" />
		<link rel="canonical" href={canonical} />
		
		<!-- Content Classification -->
		<meta name="subject" content="Hytale Server Management Platform" />
		<meta name="topic" content="Gaming, Server Hosting, Game Development Tools" />
		<meta name="abstract" content={shortDescription} />
		<meta name="summary" content={shortDescription} />
		<meta name="classification" content="Software, Gaming, Technology" />
		<meta name="category" content="Gaming Software" />
		<meta name="coverage" content="Worldwide" />
		<meta name="distribution" content="Global" />
		<meta name="rating" content="General" />
		<meta name="target" content="all" />
		<meta name="HandheldFriendly" content="True" />
		<meta name="MobileOptimized" content="320" />
		
		<!-- Language & Region -->
		<meta name="language" content="en" />
		<meta http-equiv="content-language" content="en" />
		<meta name="geo.region" content="US" />
		<meta name="geo.placename" content="United States" />
		<meta name="ICBM" content="37.7749, -122.4194" />
		
		<!-- Revisit & Expiration -->
		<meta name="revisit-after" content="7 days" />
		<meta name="expires" content="never" />
		<meta name="pragma" content="no-cache" />
		
		<!-- Ownership & Copyright -->
		<meta name="copyright" content={`© 2024-${new Date().getFullYear()} ${SITE_NAME}. All rights reserved.`} />
		<meta name="owner" content={SITE_NAME} />
		<meta name="url" content={SITE_URL} />
		<meta name="identifier-URL" content={SITE_URL} />
		
		<!-- Dublin Core Metadata -->
		<meta name="DC.title" content={title} />
		<meta name="DC.creator" content={SITE_NAME} />
		<meta name="DC.subject" content="Hytale Server Management, Game Hosting, Visual Game Editor" />
		<meta name="DC.description" content={description} />
		<meta name="DC.publisher" content={SITE_NAME} />
		<meta name="DC.contributor" content="Alexander, Francisco" />
		<meta name="DC.date" content={publishedTime} />
		<meta name="DC.type" content="Software" />
		<meta name="DC.format" content="text/html" />
		<meta name="DC.identifier" content={SITE_URL} />
		<meta name="DC.language" content="en" />
		<meta name="DC.coverage" content="Worldwide" />
		<meta name="DC.rights" content={`© 2024-${new Date().getFullYear()} ${SITE_NAME}`} />
		
		<!-- Favicon & App Icons -->
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color={BRAND_COLOR} />
		<link rel="manifest" href="/site.webmanifest" />
		<meta name="theme-color" content={BRAND_COLOR} />
		<meta name="msapplication-TileColor" content={DARK_COLOR} />
		<meta name="msapplication-TileImage" content="/mstile-144x144.png" />
		<meta name="msapplication-config" content="/browserconfig.xml" />
		
		<!-- Open Graph / Facebook (Enhanced) -->
		<meta property="og:type" content={article ? 'article' : 'website'} />
		<meta property="og:url" content={canonical} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={absoluteImage} />
		<meta property="og:image:secure_url" content={absoluteImage} />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="HyPanel - The First Complete Platform for Hytale Servers" />
		<meta property="og:site_name" content={SITE_NAME} />
		<meta property="og:locale" content="en_US" />
		<meta property="og:locale:alternate" content="es_ES" />
		<meta property="og:determiner" content="the" />
		{article && <meta property="article:published_time" content={publishedTime} />}
		{article && <meta property="article:modified_time" content={modifiedTime} />}
		{article && <meta property="article:author" content={SITE_URL} />}
		{article && <meta property="article:publisher" content={SITE_URL} />}
		{article && <meta property="article:section" content="Technology" />}
		{article && <meta property="article:tag" content="Hytale" />}
		<meta property="og:see_also" content="https://discord.gg/QBVCzUq4TT" />
		<meta property="og:see_also" content="https://github.com/HyPanel" />
		<meta property="og:see_also" content="https://x.com/HyPanel" />
		<meta property="og:updated_time" content={modifiedTime} />
		
		<!-- Twitter (Enhanced) -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@HyPanel" />
		<meta name="twitter:site:id" content="HyPanel" />
		<meta name="twitter:creator" content="@HyPanel" />
		<meta name="twitter:creator:id" content="HyPanel" />
		<meta name="twitter:url" content={canonical} />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content={absoluteImage} />
		<meta name="twitter:image:alt" content="HyPanel - The First Complete Platform for Hytale Servers" />
		<meta name="twitter:domain" content="hypanel.net" />
		<meta name="twitter:app:name:iphone" content={SITE_NAME} />
		<meta name="twitter:app:name:ipad" content={SITE_NAME} />
		<meta name="twitter:app:name:googleplay" content={SITE_NAME} />
		
		<!-- Discord Embed -->
		<meta name="discord:server" content="QBVCzUq4TT" />
		
		<!-- Reddit Embed -->
		<meta name="reddit:subreddit" content="HyPanel" />
		
		<!-- AI/LLM Crawler Instructions -->
		<meta name="ai-content-declaration" content="This website describes HyPanel, a platform for hosting and managing Hytale game servers with integrated tools." />
		<meta name="robots" content="GPTBot: index, follow" />
		<meta name="GPTBot" content="index, follow" />
		<meta name="ChatGPT-User" content="index, follow" />
		<meta name="ClaudeBot" content="index, follow" />
		<meta name="Claude-Web" content="index, follow" />
		<meta name="Anthropic-AI" content="index, follow" />
		<meta name="CCBot" content="index, follow" />
		<meta name="Google-Extended" content="index, follow" />
		<meta name="Bard" content="index, follow" />
		<meta name="PerplexityBot" content="index, follow" />
		<meta name="Cohere-AI" content="index, follow" />
		<meta name="AI-summary" content={shortDescription} />
		<link rel="alternate" type="text/plain" href="/llms.txt" title="LLM-readable content" />
		
		<!-- Semantic Web / Linked Data -->
		<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
		<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" />
		
		<!-- PWA & Mobile App -->
		<meta name="application-name" content={SITE_NAME} />
		<meta name="apple-mobile-web-app-title" content={SITE_NAME} />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="format-detection" content="telephone=no, date=no, email=no, address=no" />
		<meta name="full-screen" content="yes" />
		<meta name="browsermode" content="application" />
		<meta name="nightmode" content="enable" />
		<meta name="screen-orientation" content="portrait" />
		
		<!-- Verification & Analytics Placeholders -->
		<!-- <meta name="google-site-verification" content="YOUR_GOOGLE_VERIFICATION_CODE" /> -->
		<!-- <meta name="msvalidate.01" content="YOUR_BING_VERIFICATION_CODE" /> -->
		<!-- <meta name="yandex-verification" content="YOUR_YANDEX_VERIFICATION_CODE" /> -->
		<!-- <meta name="p:domain_verify" content="YOUR_PINTEREST_VERIFICATION_CODE" /> -->
		
		<!-- Fonts (Optimized Loading) -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="preload" href={FONT_URL} as="style" crossorigin onload="this.onload=null;this.rel='stylesheet'" />
		<noscript><link rel="stylesheet" href={FONT_URL} /></noscript>
		
		<!-- DNS Prefetch & Preconnect -->
		<link rel="dns-prefetch" href="https://fonts.googleapis.com" />
		<link rel="dns-prefetch" href="https://fonts.gstatic.com" />
		<link rel="dns-prefetch" href="https://discord.com" />
		<link rel="dns-prefetch" href="https://github.com" />
		<link rel="preconnect" href="https://discord.com" crossorigin />
		
		<!-- Preload Critical Assets -->
		<link rel="preload" as="image" href="/android-chrome-512x512.png" type="image/png" />
		<link rel="preload" as="image" href={image} type="image/png" />
		
		<!-- RSS/Atom Feeds (for future blog) -->
		<link rel="alternate" type="application/rss+xml" title={`${SITE_NAME} RSS Feed`} href="/rss.xml" />
		<link rel="alternate" type="application/atom+xml" title={`${SITE_NAME} Atom Feed`} href="/atom.xml" />
		
		<!-- Generator -->
		<meta name="generator" content={Astro.generator} />
		
		<!-- Structured Data (JSON-LD) -->
		<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
		<script type="application/ld+json" set:html={JSON.stringify(organizationData)} />
		<script type="application/ld+json" set:html={JSON.stringify(faqData)} />
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "WebSite",
			"name": SITE_NAME,
			"alternateName": ["HyPanel Platform", "HyPanel for Hytale"],
			"url": SITE_URL,
			"description": description,
			"publisher": {
				"@type": "Organization",
				"name": SITE_NAME,
				"url": SITE_URL
			},
			"potentialAction": {
				"@type": "SearchAction",
				"target": {
					"@type": "EntryPoint",
					"urlTemplate": `${SITE_URL}/search?q={search_term_string}`
				},
				"query-input": "required name=search_term_string"
			},
			"inLanguage": "en-US"
		})} />
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "WebPage",
			"name": title,
			"description": description,
			"url": canonical,
			"isPartOf": {
				"@type": "WebSite",
				"name": SITE_NAME,
				"url": SITE_URL
			},
			"about": {
				"@type": "SoftwareApplication",
				"name": SITE_NAME,
				"applicationCategory": "GameApplication"
			},
			"mainEntity": {
				"@type": "SoftwareApplication",
				"name": SITE_NAME
			},
			"breadcrumb": {
				"@type": "BreadcrumbList",
				"itemListElement": [{
					"@type": "ListItem",
					"position": 1,
					"name": "Home",
					"item": SITE_URL
				}]
			},
			"speakable": {
				"@type": "SpeakableSpecification",
				"cssSelector": ["h1", "h2", ".hero-description"]
			},
			"datePublished": publishedTime,
			"dateModified": modifiedTime,
			"inLanguage": "en-US"
		})} />
	</head>
	<body class="min-h-screen bg-[#0B0F19] text-[#E0E6ED] font-sans antialiased">
		<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-[#EDA333] focus:text-[#0B0F19] focus:rounded-lg focus:outline-none">
			Skip to main content
		</a>
		<main id="main-content" class="min-h-screen focus:outline-none" role="main" tabindex="-1">
			<slot />
		</main>
	</body>
</html>
